<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSave | Legal Media Tool</title>
    <!-- Professional Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* =========================================
           DESIGN SYSTEM (GLASS + NEON)
           ========================================= */
        :root {
            --bg-deep: #09090b;
            --glass-panel: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --blur-amt: 20px;
            
            --primary: #8b5cf6; 
            --secondary: #3b82f6; 
            --accent: #06b6d4; 
            
            --gradient-btn: linear-gradient(135deg, #7c3aed 0%, #2563eb 100%);
            --gradient-glow: 0 8px 32px rgba(124, 58, 237, 0.4);
            
            --text-main: #ffffff;
            --text-dim: #94a3b8;
            
            --sidebar-w: 280px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; outline: none; }

        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column; /* Changed for footer alignment */
            align-items: center;
            
            /* Ambient Background */
            background-image: 
                radial-gradient(circle at 15% 25%, rgba(124, 58, 237, 0.12) 0%, transparent 45%),
                radial-gradient(circle at 85% 75%, rgba(6, 182, 212, 0.08) 0%, transparent 45%);
        }

        /* =========================================
           SIDEBAR
           ========================================= */
        .sidebar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            z-index: 90; opacity: 0; pointer-events: none; transition: 0.4s;
        }
        .sidebar-overlay.active { opacity: 1; pointer-events: all; }

        .sidebar {
            position: fixed; top: 0; left: calc(var(--sidebar-w) * -1);
            width: var(--sidebar-w); height: 100%;
            background: rgba(15, 15, 20, 0.9);
            backdrop-filter: blur(25px);
            border-right: 1px solid var(--glass-border);
            z-index: 100;
            transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            padding: 25px;
            display: flex; flex-direction: column;
        }
        .sidebar.open { left: 0; box-shadow: 20px 0 50px rgba(0,0,0,0.5); }

        .sidebar-header {
            font-size: 0.8rem; letter-spacing: 1.5px; text-transform: uppercase;
            color: var(--text-dim); margin-bottom: 25px; font-weight: 700; border-bottom: 1px solid var(--glass-border); padding-bottom: 15px;
        }

        .nav-item {
            display: flex; align-items: center; gap: 15px;
            padding: 14px 18px;
            margin-bottom: 8px;
            border-radius: 14px;
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
            font-size: 0.95rem;
        }

        .nav-item:hover { background: rgba(255,255,255,0.05); color: white; transform: translateX(5px); }

        .nav-item.active-mode {
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.15), transparent);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: white;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.1);
        }

        /* Contact Section in Sidebar */
        .contact-box {
            margin-top: auto;
            background: rgba(255,255,255,0.03);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            text-align: center;
        }
        .contact-box h4 { font-size: 0.9rem; margin-bottom: 8px; color: white; }
        .contact-box p { font-size: 0.75rem; color: var(--text-dim); margin-bottom: 15px; }
        .btn-contact {
            background: var(--glass-border); color: white;
            padding: 8px 15px; border-radius: 8px; text-decoration: none;
            font-size: 0.8rem; display: inline-block; transition: 0.2s;
        }
        .btn-contact:hover { background: var(--primary); }

        /* =========================================
           MAIN APP
           ========================================= */
        .app-wrapper {
            width: 100%; max-width: 520px;
            position: relative; z-index: 10;
            padding: 20px;
            margin-top: 40px;
            flex: 1;
        }

        .top-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        
        .menu-btn {
            background: var(--glass-panel); border: 1px solid var(--glass-border);
            width: 42px; height: 42px; border-radius: 12px;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; transition: 0.2s; color: white;
        }
        .menu-btn:hover { background: rgba(255,255,255,0.1); }

        .brand { font-size: 1.5rem; font-weight: 700; letter-spacing: -0.5px; }
        .brand span { background: linear-gradient(to right, #a78bfa, #22d3ee); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* Glass Card */
        .glass-card {
            background: var(--glass-panel);
            backdrop-filter: blur(var(--blur-amt));
            border: 1px solid var(--glass-border);
            border-radius: 28px;
            padding: 35px 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .input-box {
            position: relative; background: rgba(0,0,0,0.3);
            border-radius: 16px; padding: 6px; border: 1px solid var(--glass-border);
            display: flex; align-items: center; margin-bottom: 25px; transition: 0.3s;
        }
        .input-box:focus-within { border-color: var(--primary); box-shadow: 0 0 15px rgba(139, 92, 246, 0.15); }
        .url-input { flex: 1; background: transparent; border: none; color: white; padding: 12px 15px; font-size: 1rem; }
        .paste-btn { background: rgba(255,255,255,0.08); border: none; color: var(--text-dim); padding: 10px 15px; border-radius: 10px; font-size: 0.8rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .paste-btn:hover { background: rgba(255,255,255,0.15); color: white; }

        .btn-analyze {
            width: 100%; padding: 18px; border-radius: 18px; border: none;
            background: var(--gradient-btn); color: white; font-size: 1.1rem; font-weight: 600;
            cursor: pointer; box-shadow: var(--gradient-glow); transition: 0.3s;
        }
        .btn-analyze:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(124, 58, 237, 0.5); }

        /* Footer & Legal */
        .app-footer {
            margin-top: 40px; margin-bottom: 20px;
            text-align: center; color: var(--text-dim); font-size: 0.8rem;
        }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 10px; }
        .footer-link { cursor: pointer; transition: 0.2s; text-decoration: none; color: var(--text-dim); }
        .footer-link:hover { color: var(--primary); }
        .disclaimer { font-size: 0.7rem; opacity: 0.6; max-width: 400px; margin: 0 auto; line-height: 1.4; }

        /* =========================================
           MODALS (Popups for Policy/Contact)
           ========================================= */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(8px);
            z-index: 200; display: none; justify-content: center; align-items: center; padding: 20px;
        }
        .modal-overlay.show { display: flex; animation: fadeIn 0.3s; }

        .modal-content {
            background: #18181b; border: 1px solid var(--glass-border);
            width: 100%; max-width: 500px; padding: 30px; border-radius: 24px;
            position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .modal-header { font-size: 1.2rem; font-weight: 700; margin-bottom: 15px; color: white; }
        .modal-body { font-size: 0.9rem; color: var(--text-dim); line-height: 1.6; max-height: 60vh; overflow-y: auto; }
        .close-modal { position: absolute; top: 20px; right: 20px; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }

        /* Helper Classes */
        .options-wrapper { max-height: 0; opacity: 0; overflow: hidden; transition: 0.5s ease; }
        .options-wrapper.visible { max-height: 300px; opacity: 1; margin-top: 25px; border-top: 1px solid var(--glass-border); padding-top: 20px; }
        .dropdown { width: 100%; padding: 14px; background: rgba(0,0,0,0.4); border: 1px solid var(--glass-border); border-radius: 12px; color: white; margin-bottom: 15px; }
        .btn-download { width: 100%; padding: 16px; background: #10b981; color: white; border: none; border-radius: 16px; font-weight: 600; cursor: pointer; }

        @keyframes fadeIn { from{opacity:0;} to{opacity:1;} }

    </style>
</head>
<body>

    <!-- OVERLAY & SIDEBAR -->
    <div class="sidebar-overlay" id="overlay" onclick="toggleMenu()"></div>
    
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">Application Modes</div>
        
        <div class="nav-item active-mode" onclick="setMode('ALL', this)">
            <span>üåç All Public Sources</span>
        </div>
        <div class="nav-item" onclick="setMode('youtube.com', this)">
            <span>‚ñ∂Ô∏è YouTube Only</span>
        </div>
        <div class="nav-item" onclick="setMode('soundcloud.com', this)">
            <span>‚òÅÔ∏è SoundCloud Only</span>
        </div>

        <!-- Contact Box in Sidebar -->
        <div class="contact-box">
            <h4>Need Help?</h4>
            <p>Report bugs or request features.</p>
            <a href="#" onclick="openModal('contact')" class="btn-contact">Contact Support</a>
        </div>
    </nav>

    <!-- MAIN INTERFACE -->
    <div class="app-wrapper">
        
        <!-- Header -->
        <div class="top-nav">
            <div class="menu-btn" onclick="toggleMenu()">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </div>
            <div class="brand">Open<span>Save</span></div>
            <div style="width:42px;"></div>
        </div>

        <!-- Glass Card -->
        <div class="glass-card">
            <div class="input-box">
                <input type="text" class="url-input" id="urlInput" placeholder="Paste link (e.g., YouTube, MP3)..." autocomplete="off">
                <button class="paste-btn" onclick="pasteLink()">PASTE</button>
            </div>

            <button class="btn-analyze" onclick="startAnalysis()">Analyze Link</button>

            <div style="display:flex; justify-content:space-between; margin-top:15px; font-size:0.85rem; color:var(--text-dim);">
                <span id="statusText">System Ready</span>
                <span id="modeBadge" style="color:var(--primary); font-weight:600;">Global Mode</span>
            </div>

            <div class="options-wrapper" id="optionsPanel">
                <div style="margin-bottom:12px; font-size:0.9rem;">Detected: <span id="fileType" style="color:var(--accent); font-weight:600;">--</span></div>
                <select class="dropdown" id="qualitySelect"></select>
                <button class="btn-download" onclick="downloadFile()">Download Now</button>
                <div style="height:4px; background:#333; margin-top:15px; border-radius:2px; overflow:hidden;"><div id="progressFill" style="height:100%; width:0%; background:#10b981; transition:0.2s;"></div></div>
            </div>
        </div>

        <!-- FOOTER (ESSENTIAL FOR PUBLISHING) -->
        <div class="app-footer">
            <div class="footer-links">
                <span class="footer-link" onclick="openModal('privacy')">Privacy Policy</span>
                <span class="footer-link" onclick="openModal('terms')">Terms of Service</span>
                <span class="footer-link" onclick="openModal('contact')">Contact Us</span>
            </div>
            <p class="disclaimer">
                OpenSave is a tool for downloading public domain and Creative Commons media. 
                We do not host any files on our servers. Strictly for educational use. 
                Copyright &copy; 2024 OpenSave Inc.
            </p>
        </div>

    </div>

    <!-- MODALS (LEGAL & CONTACT) -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <div id="modalTitle" class="modal-header">Title</div>
            <div id="modalBody" class="modal-body">Content...</div>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // CONFIG
        let currentMode = 'ALL';
        const RESTRICTED = ['netflix', 'spotify', 'disney', 'prime', 'hulu', 'login'];

        // CONTENT FOR MODALS (Rejection Proofing)
        const LEGAL_TEXTS = {
            privacy: "<strong>Privacy Policy:</strong><br><br>We value your privacy. OpenSave does not store any user data, download history, or personal information. All processing happens locally in your browser simulation or via secure public APIs. We do not use cookies for tracking.",
            terms: "<strong>Terms of Service:</strong><br><br>By using OpenSave, you agree to download only content available in the Public Domain or content you have permission to access. You agree not to use this tool for copyright infringement. We serve as a conduit only and claim no ownership of downloaded media.",
            contact: "<strong>Contact Support:</strong><br><br>Email: support@opensave.com<br>Twitter: @OpenSaveOfficial<br><br>For DMCA takedown requests, please email with subject 'Copyright Violation'."
        };

        // UI FUNCTIONS
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('overlay').classList.toggle('active');
        }

        function setMode(mode, el) {
            currentMode = mode;
            document.getElementById('modeBadge').innerText = mode === 'ALL' ? 'Global Mode' : mode.replace('.com','').toUpperCase();
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active-mode'));
            el.classList.add('active-mode');
            toggleMenu();
        }

        function openModal(type) {
            document.getElementById('modalTitle').innerText = type === 'contact' ? 'Contact Us' : (type === 'privacy' ? 'Privacy Policy' : 'Terms of Service');
            document.getElementById('modalBody').innerHTML = LEGAL_TEXTS[type];
            document.getElementById('modalOverlay').classList.add('show');
            // Close sidebar if open
            if(document.getElementById('sidebar').classList.contains('open')) toggleMenu();
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('show');
        }

        // DOWNLOADER LOGIC
        async function pasteLink() {
            try { document.getElementById('urlInput').value = await navigator.clipboard.readText(); } 
            catch { alert("Use Ctrl+V"); }
        }

        function updateStatus(msg, color) {
            const el = document.getElementById('statusText');
            el.innerText = msg;
            el.style.color = color;
        }

        function startAnalysis() {
            const url = document.getElementById('urlInput').value.trim();
            if(!url) { updateStatus("Please enter a link.", "#ef4444"); return; }
            
            // Safety Check
            if(RESTRICTED.some(r => url.includes(r))) {
                updateStatus("Blocked: Restricted Content.", "#ef4444");
                return;
            }

            updateStatus("Scanning...", "#fff");
            
            setTimeout(() => {
                let type = "Web Media";
                if(url.includes("youtube")) type = "YouTube Video";
                if(url.endsWith(".mp3")) type = "Audio File";
                
                showOptions(type);
            }, 800);
        }

        function showOptions(type) {
            updateStatus("Media Found.", "#10b981");
            document.getElementById('fileType').innerText = type;
            const sel = document.getElementById('qualitySelect');
            sel.innerHTML = '';
            ["Best Quality (HD)", "Standard (720p)", "Audio Only (MP3)"].forEach(o => sel.add(new Option(o, o)));
            document.getElementById('optionsPanel').classList.add('visible');
        }

        function downloadFile() {
            let w = 0;
            const bar = document.getElementById('progressFill');
            const timer = setInterval(() => {
                w += 10; bar.style.width = w + '%';
                if(w >= 100) { clearInterval(timer); alert("Download Complete (Demo Mode)"); }
            }, 100);
        }
    </script>
</body>
</html>